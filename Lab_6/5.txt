Так как в таблице "ticket_flights" содержится более 1 000 000 строк, то думаю будет целесообразно сделать индекс по ценам билетов (столбец "amount") и номер билета (столбец "ticket_no").